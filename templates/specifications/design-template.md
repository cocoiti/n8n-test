# 設計書: [ワークフロー名]

## 基本情報
- **文書ID**: DES-XXX
- **要件定義ID**: REQ-XXX
- **作成日**: YYYY-MM-DD
- **作成者**: [作成者名]
- **最終更新**: YYYY-MM-DD

## 1. アーキテクチャ設計
### 1.1 全体構成
[ワークフロー全体の構成図]

### 1.2 ノード構成
| ノード名 | タイプ | 役割 | 設定概要 |
|---------|--------|------|----------|
| [ノード1] | [HTTP Request/Function等] | [役割] | [設定の概要] |

## 2. データフロー設計
### 2.1 データ変換
```mermaid
graph LR
    A[入力データ] --> B[変換処理1]
    B --> C[変換処理2]
    C --> D[出力データ]
```

### 2.2 データマッピング
| 入力フィールド | 出力フィールド | 変換ルール |
|---------------|---------------|------------|
| [input_field1] | [output_field1] | [変換内容] |

## 3. エラーハンドリング設計
### 3.1 エラーパターン
- **HTTP Error**: [対処方法]
- **Data Validation Error**: [対処方法]
- **System Error**: [対処方法]

### 3.2 リトライ戦略
- **対象エラー**: [リトライ対象]
- **リトライ回数**: [最大回数]
- **リトライ間隔**: [間隔の設定]

## 4. セキュリティ設計
### 4.1 認証設定
- **認証方式**: [Bearer Token/API Key等]
- **クレデンシャル管理**: [環境変数/n8n credentials]

### 4.2 データ保護
- **暗号化**: [暗号化の要件]
- **ログマスキング**: [機密データのマスキング]

## 5. パフォーマンス設計
### 5.1 最適化方針
- **並列処理**: [並列化の方針]
- **バッチ処理**: [バッチサイズの設定]

## 6. テスト設計
### 6.1 テストシナリオ
- **正常系**: [正常なデータフローのテスト]
- **異常系**: [エラーケースのテスト]

## 7. 運用設計
### 7.1 監視項目
- **成功率**: [監視閾値]
- **処理時間**: [監視閾値]
- **エラー率**: [監視閾値]

### 7.2 ログ設計
- **ログレベル**: [INFO/WARN/ERROR等]
- **ログ出力先**: [ファイル/外部システム]